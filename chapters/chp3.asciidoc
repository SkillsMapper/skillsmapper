[[chapter_p3]]
== Project 3 - Fact Service

* Java application
* Secrets

=== Start with Cloud Run

* Fast startup e.g. Go 1s
* Cloud Run with a Dockerfile
* Cloud SQL with a proxy
* Can Cloud run do multi-region

=== When to switch to GKE Autopilot

* Slow startup e.g. Java - 20s
* When running 24/7 or millions of requests
* Multi-region
* GKE Autopilot
* Cloud SQL without a proxy
* Need to use sidecars

Disadvantages:
* More complex to expose (service + Ingress)

=== Cost

* Autopilot clusters accrue a flat fee of $0.10/hour for each cluster after the free tier

=== When to Switch to GKE Classic

* GKE slow to deploy as pods pending while cluster spins up - minutes to stabilise

== Summary

* Key store
* GKE Autopilot
* Skaffold
* Cloud SQL
* Cloud Run
